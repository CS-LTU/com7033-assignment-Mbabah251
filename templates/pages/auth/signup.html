{% extends "base.html" %} {% block title %}Join Us Today{% endblock %} {% block
content %}

<nav class="navbar">
  <div class="logo">Standard Medical Centre</div>

  <div class="nav-links">
    <a href="{{ url_for('home') }}">Home</a>
    <a href="{{ url_for('login') }}">Login</a>
  </div>
</nav>

<div class="auth-container">
  <form class="auth-form" method="POST" action="{{ url_for('signup') }}">
    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"/>
    <h2>Join Us Today</h2>

    <div class="form-group flex gap-4 flex-row">
      <div class="w-1/2">
        <label>First Name</label>
        <input
          type="text"
          name="first_name"
          placeholder="Enter your first name"
          required
        />
      </div>

      <div class="w-1/2">
        <label>Last Name</label>
        <input
          type="text"
          name="last_name"
          placeholder="Enter your last name"
          required
        />
      </div>
    </div>

    <div class="form-group">
      <label>Email Address</label>
      <input
        type="email"
        name="email"
        placeholder="Enter your email"
        required
      />
    </div>

    <div class="form-group">
      <label>Select Role</label>
      <select id="role" name="role" required>
        <option value="">Select Your Role</option>
        <option value="Doctor">Doctor</option>
        <option value="Nurse">Nurse</option>
        <option value="Patient">Patient</option>
      </select>
    </div>

    <div id="patientFields" class="hidden">
      <div class="form-group flex gap-4 flex-row">
        <div class="w-1/2">
          <label>Date of Birth</label>
          <input
            type="date"
            name="date_of_birth"
            class="w-full px-4 py-2 border rounded-lg"
          />
        </div>

        <div class="w-1/2">
          <label>Gender</label>
          <select name="gender" class="w-full px-4 py-2 border rounded-lg">
            <option value="">Select Gender</option>
            <option value="Male">Male</option>
            <option value="Female">Female</option>
            <option value="Other">Other</option>
          </select>
        </div>
      </div>
    </div>

    <div class="form-group">
      <label>Password</label>
      <input
        type="password"
        name="password"
        placeholder="Create a strong password"
        required
      />
    </div>

    <div class="form-group">
      <label>Confirm Password</label>
      <input
        type="password"
        name="confirmPassword"
        placeholder="Confirm your password"
        required
      />
    </div>

    <button type="submit" class="auth-button !bg-[#0077b6]">
      Create Account
    </button>

    <div class="auth-link">
      <p>
        Already have an account?
        <a href="{{ url_for('login') }}">Login here</a>.
      </p>
    </div>

    <script>
      document.getElementById("role").addEventListener("change", function () {
        let selected = this.value;
        let patientBox = document.getElementById("patientFields");

        if (selected === "Patient") {
          patientBox.classList.remove("hidden");
        } else {
          patientBox.classList.add("hidden");
        }
      });
    </script>
  </form>
</div>

{% endblock %}